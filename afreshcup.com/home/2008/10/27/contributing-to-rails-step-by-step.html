<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Contributing to Rails: Step-by-Step</title>
  <meta name="description" content="There are a few guides floating around about how to contribute your own code to Rails. But none of them (or at least none of the ones that I found) walk you ...">

  <link rel="stylesheet" href="../../../../assets/main.css">
  <link rel="canonical" href="contributing-to-rails-step-by-step.html">
  <link rel="alternate" type="application/rss+xml" title="RSS" href="../../../../atom.xml">
  <link rel="alternate" type="application/atom+xml" title="ATOM" href="../../../../atom.xml" />
  <link rel="alternate" title="JSON" type="application/json" href="../../../../json_feed.json" />

  <link rel="apple-touch-icon" sizes="180x180" href="../../../../images/favicon/apple-touch-icon.png%3Fv=9ByKGgW0ed">
  <link rel="icon" type="image/png" sizes="32x32" href="../../../../images/favicon/favicon-32x32.png%3Fv=9ByKGgW0ed">
  <link rel="icon" type="image/png" sizes="16x16" href="../../../../images/favicon/favicon-16x16.png%3Fv=9ByKGgW0ed">
  <link rel="manifest" href="../../../../images/favicon/manifest.json%3Fv=9ByKGgW0ed">
  <link rel="mask-icon" href="../../../../images/favicon/safari-pinned-tab.svg%3Fv=9ByKGgW0ed" color="#5bbad5">
  <link rel="shortcut icon" href="../../../../images/favicon/favicon.ico%3Fv=9ByKGgW0ed">
  <meta name="msapplication-config" content="/images/favicon/browserconfig.xml?v=9ByKGgW0ed">
  <meta name="theme-color" content="#ffffff">
</head>


  <body>

    <header class="site-header" role="banner">

  <div class="wrapper">
    
    
    <a class="site-title" href="../../../../index.html">A Fresh Cup</a>

    
      <nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
              <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
              <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
            <a class="page-link" href="https://topics.afreshcup.com">Topics</a>
            <a class="page-link" href="../../../../about.html">About</a>
            <a class="page-link" href="../../../../uses.html">Uses</a>
        </div>

      </nav>
    
  </div>
</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Contributing to Rails: Step-by-Step</h1>
    <p class="post-meta">
      <time datetime="2008-10-27T00:00:00-05:00" itemprop="datePublished">
        
        Oct 27, 2008
      </time>
      </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    There are a few guides floating around about how to contribute your own code to Rails. But none of them (or at least none of the ones that I found) walk you through every step of the way. So, here's an attempt to fill that gap.<br><br><strong>Step 0</strong>: Learn at least <em>something</em> about Ruby and Rails. If you don't understand the syntax of the language, common Ruby idioms, and the code that already exists in Rails, you're unlikely to be able to build a good patch (that is, one that will get accepted). You don't have to know every in-and-out of the language and the framework; some of the Rails code is fiendishly complex. But Rails is probably not appropriate as the first place that you ever write Ruby code. You should at least understand (though not necessarily memorize) <a href="http://www.amazon.com/gp/product/0321445619?ie=UTF8&amp;tag=larkware-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0321445619">The Rails Way</a><img style="border:none!important;margin:0!important;" src="http://www.assoc-amazon.com/e/ir?t=larkware-20&amp;l=as2&amp;o=1&amp;a=0321445619" border="0" alt="amazon" width="1" height="1"><br>and <a href="http://www.amazon.com/gp/product/0596516177?ie=UTF8&amp;tag=larkware-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0596516177">The Ruby Programming Language</a><img style="border:none!important;margin:0!important;" src="http://www.assoc-amazon.com/e/ir?t=larkware-20&amp;l=as2&amp;o=1&amp;a=0596516177" border="0" alt="amazon" width="1" height="1">.<br><br><strong>Step 1</strong>: Install git. You won't be able to do anything without the Rails source code, and this is a prerequisite. The <a href="http://git.or.cz/">git homepage</a> has installation instructions. If you're on OS X, use the <a href="http://code.google.com/p/git-osx-installer/">Git for OS X</a> installer. <a href="http://www.kernel.org/pub/software/scm/git/docs/everyday.html">Everyday Git</a> will teach you just enough about git to get by. The <a href="https://peepcode.com/products/git">PeepCode screencast on git</a> ($9) is easier to follow.<br><br><strong>Step 2</strong>: Get the Rails source code. Don't fork the main Rails repository. Instead, you want to clone it to your own computer. Navigate to the folder where you want the source code (it will create its own /rails subdirectory) and run:<br><br>[sourcecode language='ruby']<br>git clone git://github.com/rails/rails.git<br>[/sourcecode]<br><br><strong>Step 3</strong>: Set up and run the tests. All of the Rails tests must pass with any code you submit, otherwise you have no chance of getting code accepted. This means you need to be able to run the tests. For the tests that touch the database, this means creating the databases. With MySQL:<br><br>[sourcecode language='ruby']<br>mysql&gt; create database activerecord_unittest;<br>mysql&gt; create database activerecord_unittest2;<br>mysql&gt; GRANT ALL PRIVILEGES ON activerecord_unittest.*<br>       to 'rails'@'localhost';<br>mysql&gt; GRANT ALL PRIVILEGES ON activerecord_unittest2.*<br>       to 'rails'@'localhost';<br>[/sourcecode]<br><br>If you're using another database, check the files under activerecord/test/connections in the Rails source code for default connection information. You can edit these files if you must on your machine to provide different credentials, but obviously you should not push any changes back to Rails.<br><br>Now if you go back to the root of the Rails source on your machine and run rake with no parameters, you should see every test in all of the Rails components pass. After that, check out the file activerecord/RUNNING_UNIT_TESTS for information on running more targeted tests.<br><br><strong>Step 4</strong>: Fork Rails. You're not going to put your patches right into the master branch, OK? Think of a name for your new branch and run<br><br>[sourcecode language='ruby']<br>git checkout -b my_new_branch<br>[/sourcecode]<br><br>It doesn't really matter what name you use, because this branch will only exist on your local computer.<br><br><strong>Step 5</strong>: Write your code. You're on your branch now, so you can write whatever you want (you can check to make sure you're on the right branch with git branch -a). But if you're planning to submit your change back for inclusion in Rails, keep a few things in mind:<br>	<li>Get the code right</li>
<br>	<li>Include tests that fail without your code, and pass with it</li>
<br>	<li>Update the documentation</li>
<br><strong>Step 6</strong>: Sanity check. You know at least one other Rails developer, right? Show them what you're doing and ask for feedback. Doing this in private before you push a patch out publicly is the "smoke test" for a patch: if you can't convince one other developer of the beauty of your code, you're unlikely to convince the core team either.<br><br><strong>Step 7</strong>: Update your copy of Rails. It's pretty likely that other changes to core Rails have happened while you were working. Go get them:<br><br>[sourcecode language='ruby']<br>git checkout master<br>git pull<br>[/sourcecode]<br><br>Now reapply your patch on top of the latest changes:<br><br>[sourcecode language='ruby']<br>git checkout my_new_branch<br>git rebase master<br>[/sourcecode]<br><br>No conflicts? Tests still pass? Change still seems reasonable to you? Then move on.<br><br><strong>Step 8</strong>: Create your patch. Still in your branch, run<br><br>[sourcecode language='ruby']<br>git commit -a<br>git format-patch master --stdout &gt; my_new_patch.diff<br>[/sourcecode]<br><br>Sanity check the results of this operation: open the diff file in your text editor of choice and make sure that no unintended changes crept in.<br><br><strong>Step 9</strong>: Create a Lighthouse account. You will need one to send in a ticket with your patch. You can do this at the <a href="http://rails.lighthouseapp.com/users/new?to=%2Fprojects%2F8994-ruby-on-rails%2Ftickets%2Fnew">free signup page</a>.<br><br><strong>Step 10</strong>: Create a ticket with your patch. Go to the <strong><a href="http://rails.lighthouseapp.com/projects/8994-ruby-on-rails/">Rails Lighthouse</a></strong> page. Sign in if necessary. Click on "Add New Ticket." Fill in a reasonable title and description, remember to attach your patch file, and tag the ticket with the 'patch' tag and whatever other subject area tags make sense.<br><br><strong>Step 11</strong>: Get some feedback. The Contributing to Rails page suggests using the <a href="http://groups.google.com/group/rubyonrails-core">rubyonrails-core</a> mailing list or the #rails-contrib channel on IRC freenode for this. You might also try just talking to Rails developers that you know.<br><br><strong>Step 12</strong>: Lather, rinse, release. It's entirely possible that the feedback you get will suggest changes. Don't get discouraged: the whole point of contributing to an active open source project is to tap into community knowledge. If people are encouraging you to tweak your code, then it's worth making the tweaks and resubmitting. If the feedback is that your code doesn't belong in the core, you might still think about releasing it as a plugin.<br><br>And then...think about your next contribution!

  </div>

  
    

  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'https://afreshcup.com/home/2008/10/27/contributing-to-rails-step-by-step.html';
      this.page.identifier = 'https://afreshcup.com/home/2008/10/27/contributing-to-rails-step-by-step.html';
    };

    (function() {
      var d = document, s = d.createElement('script');

      s.src = 'https://a-fresh-cup.disqus.com/embed.js';

      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


  
</article>

      </div>
    </main>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">A Fresh Cup</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>
            
              none
            
            </li>
            
            <li><a href="mailto:blank@example.com">blank@example.com</a></li>
            
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/nil"><span class="icon icon--github"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">nil</span></a>

          </li>
          

          
          <li>
            <a href="https://twitter.com/nil"><span class="icon icon--twitter"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">nil</span></a>

          </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Out of business.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
